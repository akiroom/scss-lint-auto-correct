#!/usr/bin/env ruby
# frozen_string_literal: true

require 'scss_lint_auto_correct'
require 'scss_lint_auto_correct/scss_lint_bypass'
require 'scss_lint_auto_correct/cli'
require 'scss_lint_auto_correct/logger'

options = SCSSLintAutoCorrect::Options.new.parse(ARGV)

SCSSLintAutoCorrect::SCSSLintBypass.new.run(options) do |result, exit_status|
  logger = SCSSLintAutoCorrect::Logger.new(STDOUT)
  SCSSLintAutoCorrect::CLI.new(logger).run(result)
  exit exit_status
end
